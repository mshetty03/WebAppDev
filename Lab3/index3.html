<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tip Calculator</title>
    <link rel="stylesheet" href="style3.css">
</head>
<body>
    <div class="container">
        
        <section>
            <div class="title1">
                    ITMD 541- Lab3- Megha Shetty
            </div>
            <div class="title2">
                Tip Calculator
             </div>
        </section>
        <section>
            <div class="tipcalculator">
                <form class="input-form">
                     <div class="input">
                            <div class="box">
                                    <div class="input-box" id="billtotalbox">
                                        <label for="bill">Bill Total:</label>
                                        <input type="text"  name="Billtotal"  id="bill" required minlength="1"><br><br>
                                    </div>

                                    <div class="range-box" id="tipbox">
                                        <label for="tip">Tip:</label>
                                        <input type="range" min="0" id="tip" max="100" value="0" name="tip"><br><br>
                                    </div>

                                    <div class="input-box" id="tippercentagebox">
                                            <label for="TipPercentage">Tip Percentage:</label>
                                            <input name="TipPercentage"  disabled id="tip-percentage" ><br><br>
                                    </div>

                                    <div class="input-box" id="tipamountbox">
                                            <label for="tipamount">Tip Amount : </label>
                                            <input name="tipamount" disabled id="tip-amount"><br><br>
                                    </div>

                                    <div class="input-box" id="totalamountbox">
                                            <label for="totalamount">Total Bill with Tip:</label>
                                            <input name="totalamount" disabled id="total-amount"><br><br>
                                    </div>                               
                            </div>
                        </div>
                </form>
            </div>
        </section>   
    </div>
    <script>

        let sliders = document.querySelectorAll("input[type='range']");
        let billInput = document.getElementById("bill");

        sliders.forEach(function(slider){
        slider.addEventListener("input",calculateTip);  
        });

        
        billInput.addEventListener("change",calculateTip);

        function calculateTip(){

            const bill = parseFloat(billInput.value);
            const tipPercent = document.getElementById("tip").value;
            billInput.value = bill.toFixed(2);
            if(isNaN(bill))
                {
                    alert("Enter Valid Number");
                    document.getElementById('bill').value = "";
                }
            
                else
                {
                
                let totalTip = parseFloat((bill * (tipPercent/100)).toFixed(2));
                let total = parseFloat((bill + totalTip).toFixed(2));

                document.getElementById("tip-amount").value = `\ ${totalTip}`;
                document.getElementById("total-amount").value = `\ ${total}`;
                document.getElementById("tip-percentage").value = `\ ${tipPercent}`;
                }
            }
            //calculateTip();
    </script>
</body>
</html>
